<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Text Pattern Matcher - X-Tag</title>

  <link rel="stylesheet" type="text/css" href="x-tag-components.css"/>
  <link rel="stylesheet" type="text/css" href="../src/matcher.css"/>

  <script type="text/javascript" src="x-tag-components.js"></script>
  <script type="text/javascript" src="../src/matcher.js"></script>


  <style type="text/css">

  input{
    display: block;
    width: 600px;
    margin-bottom: 40px;
    font-size: 1.5em;
  }

  </style>

</head>
<body id="app">

<p>Enter text that begins with # or @</p>
<input type="text" class="tagFields">
<p>A single tag can watch multiple inputs</p>
<input type="text" class="tagFields">

<x-text-pattern-matcher target="input.tagFields">
  <x-pattern-matcher split="(#\w+)" select="#(\w+)" onmatch="matchColors"></x-pattern-matcher>
  <x-pattern-matcher split="(@\w+)" select="@(\w+)" onmatch="matchUsers"></x-pattern-matcher>
  <x-pattern-matcher split="(@)" select="@" onmatch="topUsers"></x-pattern-matcher>
</x-text-pattern-matcher>

</body>

<script type="text/javascript">

function matchUsers(match, callback){
  var matchedNames = NAMES.filter(function(color){
    return color.indexOf(match[1]) > -1;
  }).sort(function(color1, color2){
    return color1.indexOf(match[1]) < color2.indexOf(match[1]) ? -1 : 1;
  });
  callback(matchedNames);
}

function matchColors(match, callback){
  var matchedColors = CSS_COLOR_NAMES.filter(function(color){
    return color.indexOf(match[1]) > -1;
  }).sort(function(color1, color2){
    return color1.indexOf(match[1]) < color2.indexOf(match[1]) ? -1 : 1;
  });
  callback(matchedColors);
}

function topUsers(match, callback){
  callback(NAMES.slice(0,5));
}

var CSS_COLOR_NAMES = ["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","Darkorange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"];

var NAMES = ['Kristle-Fluitt','Erwin-Rocha','Irish-Paulsen','Audie-Hedgepeth','Lesia-Frost','Cyndy-Parras','Chau-Rolle','Rudolf-Tingey','Jewel-Franck','Jeromy-Nilsson','Faviola-Alter','Napoleon-Pinegar','Fidel-Presson','Lexie-Albertini','Berenice-Pace','Vonda-Roten','Pia-Olson','Mark-Garbett','Jacinto-Rose','Alease-Lokey','Neida-Roda','Blaine-Glassford','Felton-Tullius','Kieth-Simeon','Neil-Houchens','Lera-Downie','Zoe-Lagarde','Nia-Rohrbaugh','Johna-Rielly','Pansy-Vowell','Waylon-Shanks','Robt-Redmond','Jacinda-Truesdale','Julieann-Rowlands','Altagracia-Primm','Gertrude-Mcgurk','Hans-Mcmurtry','Freeman-Winegar','Christal-Woll','Tiny-Barrientos','Magali-Demay','Celeste-Leandro','Tawanna-Cusic','Leontine-Hausman','Ozella-Cosby','Lenna-Lancon','Belle-Elvira','Liberty-Bristow','Mable-Silvey','Fae-Friel'];



</script>
</html>
